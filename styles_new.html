<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Nuevos Estilos | Brewery Stock</title>

  <!-- Estilos -->
  <link rel="stylesheet" href="css/styles.css?v=3" />

  <!-- SweetAlert -->
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

  <!-- Config global -->
  <script src="./js/config.js"></script>

  <!-- CDN supabase-js v2 -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

  <!-- Tu config con window.SUPABASE_CONFIG = { url, anonKey } -->
  <script src="js/config.supabase.js"></script>

  <!-- Cliente + capa de datos (Supabase) -->
  <script src="js/supabase_client.js"></script>
  <script src="js/supabase_data.js"></script>

  <!-- Script de la pÃ¡gina -->
  <script src="js/styles_new.js" defer></script>
</head>
<body>
  <!-- Header global -->
  <div id="site-header"></div>
  <script src="js/header.js" defer></script>

  <main class="container" style="margin-top:16px;">
    <!-- Acciones -->
    <section class="card" style="display:flex;justify-content:space-between;align-items:center;gap:12px;flex-wrap:wrap;">
      <h2 style="margin:0;">ðŸŽ¨ Estilos</h2>
      <div class="actions">
        <button id="newStyleBtn" class="btn">âž• Nuevo estilo</button>
        <button id="refreshBtn" class="btn ghost">â†» Refrescar</button>
      </div>
    </section>

    <!-- Tabla -->
    <section class="card" style="margin-top:12px;">
      <div style="overflow:auto;">
        <table class="table" id="stylesTable">
          <thead>
            <tr>
              <th>Marca</th>
              <th>Estilo</th>
              <th>Color</th>
              <th>Mostrar siempre</th>
            </tr>
          </thead>
          <tbody>
            <tr><td colspan="4" style="text-align:center;padding:18px;">Cargando...</td></tr>
          </tbody>
        </table>
      </div>
    </section>
  </main>

  <!-- Backdrop -->
  <div id="backdrop" class="backdrop" aria-hidden="true"></div>

  <!-- Modal: Nuevo Estilo -->
  <div id="styleModal" class="modal" aria-hidden="true">
    <div class="modal__content labels-compact">
      <header class="modal__header">
        <h3>Nuevo estilo</h3>
        <button id="closeStyleModal" class="icon-btn" aria-label="Cerrar">âœ•</button>
      </header>

      <form id="styleForm" class="form">
        <div class="grid grid-2">
          <label class="field">
            <span>Marca</span>
            <select id="brandSelect" required>
              <option value="">Cargando...</option>
            </select>
          </label>

          <label class="field">
            <span>Nombre del estilo</span>
            <input id="styleName" type="text" required placeholder="Ej: IPA" />
          </label>

          <label class="field">
            <span>Color</span>
            <input id="styleColor" type="color" value="#000000" />
          </label>

          <label class="field" style="display:flex;align-items:flex-end;">
            <span class="muted small" style="margin-right:8px;">Mostrar siempre</span>
            <input id="styleShowAlways" type="checkbox" style="transform:scale(1.2);margin-bottom:6px;" />
          </label>
        </div>

        <footer class="modal__footer">
          <button type="button" id="cancelStyleBtn" class="btn">Cancelar</button>
          <button type="submit" class="btn primary">Guardar</button>
        </footer>
      </form>
    </div>
  </div>
</body>
</html>
