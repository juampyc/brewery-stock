/* ====== Base / Variables ====== */
* { box-sizing: border-box; }
html, body { height: 100%; }

:root{
  --bg:#0f1216; --fg:#e7e9ee; --muted:#9aa3b2;
  --card:#171b21; --border:#2a313b;
  --primary:#3b82f6;
  --ok:#22c55e; --warn:#f59e0b; --danger:#ef4444;
  --shadow:0 6px 24px rgba(0,0,0,.24), 0 2px 8px rgba(0,0,0,.18);
}

body{
  margin:0; background:var(--bg); color:var(--fg);
  font:15px/1.4 system-ui, Segoe UI, Roboto, Helvetica, Arial;
}

.container{ max-width:980px; margin:0 auto; padding:16px; }

/* ====== Header global ====== */
.site-header {
  position: sticky; top: 0; z-index: 50;
  background: var(--bg);
  border-bottom: 1px solid var(--border);
  backdrop-filter: saturate(120%) blur(4px);
}
.site-header__inner{
  display:flex; align-items:center; justify-content:space-between;
  gap:12px; padding:10px 0;
}
.site-header__brand{
  margin:0; font-size:1.1rem; font-weight:700;
}
.site-header__nav{ display:flex; gap:8px; flex-wrap:wrap; }
.btn-icon{ display:inline-flex; align-items:center; gap:6px; line-height:1; }
.btn-icon .icon{ font-size:1.1em; }
@media (max-width:560px){ .hide-sm{ display:none; } }

/* ====== Topbar (legacy) ====== */
.topbar{
  display:flex; align-items:center; justify-content:space-between;
  padding:14px 16px; border-bottom:1px solid var(--border);
  position:sticky; top:0; background:var(--bg); z-index:10;
}
h1{ margin:0; font-size:18px; letter-spacing:.2px; }

/* ====== Cards / Layout ====== */
.cards{ display:grid; grid-template-columns:repeat(auto-fit,minmax(240px,1fr)); gap:16px; }
.card{
  background:var(--card); border:1px solid var(--border);
  border-radius:14px; padding:16px; box-shadow:var(--shadow);
}
.card h2{ margin:0 0 4px; font-size:16px; }
.big{ font-size:42px; font-weight:700; margin:8px 0; }
.muted{ color:var(--muted); }
.small{ font-size:12px; line-height:1.3; }

/* ====== Botones ====== */
.actions{ display:flex; gap:8px; }
.btn{
  appearance:none; border:1px solid var(--border);
  background:#11161d; color:var(--fg);
  padding:8px 12px; border-radius:10px; cursor:pointer;
  transition:transform .06s ease, opacity .2s ease;
}
.btn:hover{ transform:translateY(-1px); }
.btn:disabled{ opacity:.5; cursor:not-allowed; }
.btn.primary{ background:var(--primary); border-color:transparent; color:#fff; }
.btn.ghost{ background:transparent; }
.icon-btn{
  background:transparent; border:0; color:var(--fg);
  font-size:18px; cursor:pointer; padding:6px; border-radius:8px;
}
.icon-btn:hover{ background:#222933; }

/* ====== Formularios / Campos ====== */
.field{ display:flex; flex-direction:column; gap:6px; }
input, select{
  width:100%; padding:10px 12px; border-radius:10px;
  border:1px solid var(--border);
  background:#0b0f14; color:var(--fg); outline:none;
}
select:focus, input:focus{
  border-color:var(--primary);
  box-shadow:0 0 0 3px rgba(59,130,246,0.25);
}

/* Grid utilitario */
.grid{ display:grid; grid-template-columns:1fr; gap:12px; }
.grid.grid-3{ grid-template-columns:1fr 1fr 1fr; }
.align-start{ align-items:start; }
.span-2{ grid-column:span 2; }
.col-left{ display:flex; flex-direction:column; gap:12px; }
.field.inline-check{ display:flex; align-items:center; gap:10px; flex-direction:row; }

@media (max-width:720px){
  .grid.grid-3{ grid-template-columns:1fr; }
  .span-2{ grid-column:span 1; }
  .small{ font-size:11px; }
}

/* ====== Modal ====== */
.modal{
  position:fixed; inset:0; display:none;
  align-items:center; justify-content:center; padding:16px; z-index:50;
}
.modal[aria-hidden="false"]{ display:flex; }
.modal__content{
  width:min(640px,100%); background:var(--card);
  border:1px solid var(--border); border-radius:16px;
  box-shadow:var(--shadow); overflow:hidden;
}
.modal__header, .modal__footer{
  display:flex; align-items:center; justify-content:space-between;
  padding:12px 14px; border-bottom:1px solid var(--border);
}
.modal__footer{ border-bottom:0; border-top:1px solid var(--border); }
.form{ padding:14px; }
.backdrop{
  position:fixed; inset:0; background:rgba(0,0,0,.4);
  opacity:0; visibility:hidden; transition:opacity .2s ease; z-index:40;
}
.backdrop[aria-hidden="false"]{ opacity:1; visibility:visible; }

/* ====== Tablas ====== */
.table{ width:100%; border-collapse:collapse; }
.table th, .table td{
  padding:8px 10px; text-align:left;
  border-bottom:1px solid var(--border);
  white-space:nowrap;
}
.table th{
  background:#1a1f24; color:#fff; font-weight:600;
}
/* Modal etiquetas: ancho cómodo y campos en 2 columnas */
.modal__content.labels-compact { max-width: 560px; }
.form.grid-2 { display:grid; grid-template-columns:1fr 1fr; gap:12px; }
@media (max-width:720px){ .form.grid-2 { grid-template-columns:1fr; } }

/* Select con mismo look que input, sin que se estire feo */
select#styleCombo { width:100%; }

/* Texto auxiliar más sutil bajo el select */
.help { color: var(--muted); font-size: 12px; margin-top: 6px; }

/* ===== Badges de estado producción ===== */
.badge {
  display:inline-flex; align-items:center; gap:6px;
  padding:4px 10px; border-radius:999px; font-size:12px;
  border:1px solid var(--border); background:#0d1218; color:var(--fg);
  line-height:1;
}
.badge .dot { width:8px; height:8px; border-radius:50%; display:inline-block; }

.badge.ENLATADO    { border-color:#3b82f6; background:rgba(59,130,246,.12); color:#93c5fd; }
.badge.ENLATADO .dot { background:#3b82f6; }

.badge.PAUSTERIZADO    { border-color:#a78bfa; background:rgba(167,139,250,.12); color:#c4b5fd; }
.badge.PAUSTERIZADO .dot { background:#a78bfa; }

.badge.ETIQUETADO    { border-color:#22c55e; background:rgba(34,197,94,.12); color:#86efac; }
.badge.ETIQUETADO .dot { background:#22c55e; }

.badge.FINAL    { border-color:#f59e0b; background:rgba(245,158,11,.12); color:#fde68a; }
.badge.FINAL .dot { background:#f59e0b; }

tr.is-busy { opacity: .6; pointer-events: none; }
.badge { display:inline-flex; gap:6px; align-items:center; padding:4px 8px; border:1px solid var(--border); border-radius:999px; font-size:12px }
.badge .dot { width:8px; height:8px; border-radius:50%; background: var(--muted); display:inline-block }
.badge.ENLATADO .dot { background:#64748b }
.badge.PAUSTERIZADO .dot { background:#f59e0b }
.badge.ETIQUETADO .dot { background:#3b82f6 }
.badge.FINAL .dot { background:#22c55e }

/* Pie peque en un card compacto */
.card-small { max-width: 360px; }
.card-small canvas { max-height: 220px; }

